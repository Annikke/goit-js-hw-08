{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MACMC,EAAW,GAEXC,EAAOC,SAASC,cAAc,mBAmBpC,SAAsBC,GAClB,MAAMC,EAgBV,SAAcC,GACV,IACA,MAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,E,CACzD,MAAOM,GACPC,QAAQC,MAAMF,E,EArBOG,CAvBL,uBAwBZX,IACAJ,EAAKgB,MAAMC,MAAQb,EAAaY,MAChChB,EAAKkB,QAAQD,MAAQb,EAAac,Q,CArB1CC,GAEAnB,EAAKoB,iBAAiB,SAAS,EAAAvB,EAAAwB,WAG/B,SAAsBlB,GAClBJ,EAAUI,EAAImB,OAAOC,MAAQpB,EAAImB,OAAOL,MAmB5C,SAAcZ,EAAKY,GACjB,IACE,MAAMO,EAAiBd,KAAKe,UAAUR,GACtCV,aAAamB,QAAQrB,EAAKmB,E,CAC1B,MAAOZ,GACPC,QAAQC,MAAMF,E,EAvBde,CAZgB,sBAYE5B,E,GALgC,MACtDC,EAAKoB,iBAAiB,UAOtB,SAAoBjB,GAChBA,EAAIyB,iBACJzB,EAAI0B,cAAcC,QAClBvB,aAAawB,WAlBG,uBAmBhBlB,QAAQmB,IAAIjC,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from \"lodash\";\n\nconst STORAGE_KEY = \"feedback-form-state\";\nconst formData = {};\n\nconst form = document.querySelector('.feedback-form');\n\ncheckStorage();\n\nform.addEventListener('input', throttle(saveFeedback, 500));\nform.addEventListener(\"submit\", formSubmit);\n\nfunction saveFeedback(eve) {\n    formData [eve.target.name] = eve.target.value;\n    save(STORAGE_KEY, formData);\n};\n\nfunction formSubmit(eve) {\n    eve.preventDefault();\n    eve.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY);\n    console.log(formData);\n};\n\nfunction checkStorage(eve) {\n    const storageState = load(STORAGE_KEY);\n    if (storageState) {\n        form.email.value = storageState.email;\n        form.message.value = storageState.message;\n    };\n};\n\nfunction save(key, value) {\n  try {\n    const serializedData = JSON.stringify(value);\n    localStorage.setItem(key, serializedData);\n  } catch (err) {\n    console.error(err);\n    };\n};\n\nfunction load(key) {\n    try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (err) {\n    console.error(err);\n    };\n};"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formData","$945622fd0f572e60$var$form","document","querySelector","eve","storageState","key","serializedState","localStorage","getItem","undefined","JSON","parse","err","console","error","$945622fd0f572e60$var$load","email","value","message","$945622fd0f572e60$var$checkStorage","addEventListener","throttle","target","name","serializedData","stringify","setItem","$945622fd0f572e60$var$save","preventDefault","currentTarget","reset","removeItem","log"],"version":3,"file":"03-feedback.fda24028.js.map"}