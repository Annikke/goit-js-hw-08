{"mappings":"gfAAA,IAyBUA,EAzBVC,EAAAC,EAAA,SAEMC,EAAc,sBACdC,EAAW,GAEXC,EAAOC,SAASC,cAAc,mBAoB1BP,EAgBV,SAAcQ,GACV,IACA,IAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,E,CACzD,MAAOM,GACPC,QAAQC,MAAMF,E,EArBOG,CAAKf,MAEtBE,EAAKc,MAAMC,MAAQpB,EAAamB,MAChCd,EAAKgB,QAAQD,MAAQpB,EAAaqB,SAnB1ChB,EAAKiB,iBAAiB,SAAS,EAAArB,EAAAsB,WAG/B,SAAsBC,GAClBpB,EAAUoB,EAAIC,OAAOC,MAAQF,EAAIC,OAAOL,MAmB5C,SAAcZ,EAAKY,GACjB,IACE,IAAMO,EAAiBd,KAAKe,UAAUR,GACtCV,aAAamB,QAAQrB,EAAKmB,E,CAC1B,MAAOZ,GACPC,QAAQC,MAAMF,E,EAvBde,CAAK3B,EAAaC,E,GALgC,MACtDC,EAAKiB,iBAAiB,UAOtB,SAAoBE,GAChBA,EAAIO,iBACJP,EAAIQ,cAAcC,QAClBvB,aAAawB,WAAW/B,GACxBa,QAAQmB,IAAI/B,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from \"lodash\";\n\nconst STORAGE_KEY = \"feedback-form-state\";\nconst formData = {};\n\nconst form = document.querySelector('.feedback-form');\n\ncheckStorage();\n\nform.addEventListener('input', throttle(saveFeedback, 500));\nform.addEventListener(\"submit\", formSubmit);\n\nfunction saveFeedback(eve) {\n    formData [eve.target.name] = eve.target.value;\n    save(STORAGE_KEY, formData);\n};\n\nfunction formSubmit(eve) {\n    eve.preventDefault();\n    eve.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY);\n    console.log(formData);\n};\n\nfunction checkStorage(eve) {\n    const storageState = load(STORAGE_KEY);\n    if (storageState) {\n        form.email.value = storageState.email;\n        form.message.value = storageState.message;\n    };\n};\n\nfunction save(key, value) {\n  try {\n    const serializedData = JSON.stringify(value);\n    localStorage.setItem(key, serializedData);\n  } catch (err) {\n    console.error(err);\n    };\n};\n\nfunction load(key) {\n    try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (err) {\n    console.error(err);\n    };\n};"],"names":["storageState","$1WSnx","parcelRequire","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$formData","$b00c40859be242c5$var$form","document","querySelector","key","serializedState","localStorage","getItem","undefined","JSON","parse","err","console","error","$b00c40859be242c5$var$load","email","value","message","addEventListener","throttle","eve","target","name","serializedData","stringify","setItem","$b00c40859be242c5$var$save","preventDefault","currentTarget","reset","removeItem","log"],"version":3,"file":"03-feedback.108845b0.js.map"}